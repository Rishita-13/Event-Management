{"ast":null,"code":"import _objectSpread from\"C:/Users/hi/Documents/event-management/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import axios from'axios';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";export default function EventList(_ref){let{events,refresh}=_ref;const[editId,setEditId]=useState(null);const[draft,setDraft]=useState({});/* ---------- helpers ---------- */const remove=async id=>{await axios.delete(\"http://localhost:5000/api/events/\".concat(id));refresh();};const start=ev=>{setEditId(ev._id);setDraft({title:ev.title,description:ev.description,date:ev.date.split('T')[0]// Trim time from ISO string\n});};const cancel=()=>setEditId(null);const save=async id=>{await axios.put(\"http://localhost:5000/api/events/\".concat(id),draft);setEditId(null);refresh();};if(!events.length)return/*#__PURE__*/_jsx(\"p\",{children:\"No events yet.\"});return events.map(ev=>/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:editId===ev._id?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{value:draft.title,onChange:e=>setDraft(_objectSpread(_objectSpread({},draft),{},{title:e.target.value}))}),/*#__PURE__*/_jsx(\"textarea\",{value:draft.description,onChange:e=>setDraft(_objectSpread(_objectSpread({},draft),{},{description:e.target.value}))}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:draft.date,onChange:e=>setDraft(_objectSpread(_objectSpread({},draft),{},{date:e.target.value}))}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-blue\",onClick:()=>save(ev._id),children:\"Save\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-ghost\",onClick:cancel,children:\"Cancel\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h3\",{children:ev.title}),/*#__PURE__*/_jsx(\"p\",{children:ev.description}),/*#__PURE__*/_jsx(\"p\",{children:new Date(ev.date).toLocaleDateString()}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-blue\",onClick:()=>start(ev),children:\"\\u270F Edit\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-red\",onClick:()=>remove(ev._id),children:\"\\uD83D\\uDDD1 Delete\"})]})},ev._id));}","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","EventList","_ref","events","refresh","editId","setEditId","draft","setDraft","remove","id","delete","concat","start","ev","_id","title","description","date","split","cancel","save","put","length","children","map","className","value","onChange","e","_objectSpread","target","type","onClick","Date","toLocaleDateString"],"sources":["C:/Users/hi/Documents/event-management/frontend/src/components/EventList.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nexport default function EventList({ events, refresh }) {\r\n  const [editId, setEditId] = useState(null);\r\n  const [draft, setDraft] = useState({});\r\n\r\n  /* ---------- helpers ---------- */\r\n  const remove = async id => {\r\n    await axios.delete(`http://localhost:5000/api/events/${id}`);\r\n    refresh();\r\n  };\r\n\r\n  const start = ev => {\r\n    setEditId(ev._id);\r\n    setDraft({\r\n      title: ev.title,\r\n      description: ev.description,\r\n      date: ev.date.split('T')[0], // Trim time from ISO string\r\n    });\r\n  };\r\n\r\n  const cancel = () => setEditId(null);\r\n\r\n  const save = async id => {\r\n    await axios.put(`http://localhost:5000/api/events/${id}`, draft);\r\n    setEditId(null);\r\n    refresh();\r\n  };\r\n\r\n  if (!events.length) return <p>No events yet.</p>;\r\n\r\n  return events.map(ev => (\r\n    <div key={ev._id} className=\"card\">\r\n      {editId === ev._id ? (\r\n        <>\r\n          <input\r\n            value={draft.title}\r\n            onChange={e => setDraft({ ...draft, title: e.target.value })}\r\n          />\r\n          <textarea\r\n            value={draft.description}\r\n            onChange={e => setDraft({ ...draft, description: e.target.value })}\r\n          />\r\n          <input\r\n            type=\"date\"\r\n            value={draft.date}\r\n            onChange={e => setDraft({ ...draft, date: e.target.value })}\r\n          />\r\n          <button className=\"btn-blue\" onClick={() => save(ev._id)}>Save</button>\r\n          <button className=\"btn-ghost\" onClick={cancel}>Cancel</button>\r\n        </>\r\n      ) : (\r\n        <>\r\n          <h3>{ev.title}</h3>\r\n          <p>{ev.description}</p>\r\n          <p>{new Date(ev.date).toLocaleDateString()}</p>\r\n          <button className=\"btn-blue\" onClick={() => start(ev)}>‚úè Edit</button>\r\n          <button className=\"btn-red\" onClick={() => remove(ev._id)}>üóë Delete</button>\r\n        </>\r\n      )}\r\n    </div>\r\n  ));\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}